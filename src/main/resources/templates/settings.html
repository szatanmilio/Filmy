<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <link rel="stylesheet" th:href="@{css/main.css}"
          crossorigin="anonymous">
	<title>Ustawienia</title>
</head>
<body>
    <div id="container">
        <div id="menu">
            <a class="link" th:href="@{/movieBest(page='1')}">
                <div class="menu-option">
                    <li class="text_menu">Lista filmów</li>
                </div>
            </a>
            <a class="link"  th:href="@{/myList}">
                <div class="menu-option">
                    <li class="text_menu">Moja lista</li>
                </div>
            </a>
            <a class="link" th:href="@{/settings}">
                <div class="menu-option">
                    <li class="text_menu">Moje konto</li>
                </div>
            </a>
            <a class="link" th:href="@{/logout}">
                <div class="menu-option">
                    <li class="text_menu">Wyloguj się</li>
                </div>
            </a>

        </div>
        <div style="clear: both;"></div>
        <div class="mid">
            <div id="password">
                <form method="POST" th:action="@{/changeUserPassword}" th:object="${UserDto}" >
                    <label class="title">Zmiana hasła</label> <br>
                    <label class="text">Nowe hasło: </label> <br>
                    <input type="password" name="password" onfocus="this.placeholder=''" placeholder="Wprowadź nowe hasło" onblur="this.placeholder='Wprowadź nowe hasło'" th:field="*{password}">
                    <br>
                    <label class="text">Stare hasło: </label> <br>
                    <input type="password" name="apassword" onfocus="this.placeholder=''" placeholder="Wprowadź aktualne hasło" required onblur="this.placeholder='Wprowadź aktualne hasło'" th:field="*{aPassword}">
                    <br>
                    <input type="submit" value="Zmień hasło">
                    <div class="success" th:if="${succesPassword} != null">
                        <label th:text="${succesPassword}"></label>
                    </div><br>
                    <div class="error" th:if="${errorPassword} != null">
                        <label th:text="${errorPassword}"></label>
                    </div><br>
                </form>
            </div>

            <div id="email">
                <form method="POST" th:action="@{/changeUserEmail}" th:object="${UserDto}" >
                    <label class="title">Zmiana email</label><br>
                    <label class="text">Podaj nowy adres email: </label><br>
                    <input type="email" name="email" onfocus="this.placeholder=''" placeholder="Wprowadź nowy adres e-mail" onblur="this.placeholder='Wprowadź nowy adres e-mail'" th:field="*{email}">
                    <div class="error"></div>
                    <br>
                    <label class="text">Podaj hasło: </label><br>
                    <input type="password" name="apassword" onfocus="this.placeholder=''" placeholder="Wprowadź aktualne hasło" required onblur="this.placeholder='Wprowadź aktualne hasło'" th:field="*{aPassword}"><br>
                    <input type="submit" value="Zmień email">
                    <div class="success" th:if="${succesMail} != null">
                        <label th:text="${succesMail}"></label>
                    </div><br>
                    <div class="error" th:if="${errorMail} != null">
                        <label th:text="${errorMail}"></label>
                    </div>
                </form>
            </div>

            <div id="account">
                <form method="POST" th:action="@{/deleteAccount}" th:object="${UserDto}" >
                    <label class="title">Usuwanie konta</label><br>
                    <label class="text">W celu autoryzacji podaj swoje hasło: </label><br>
                    <input type="password" name="apassword" onfocus="this.placeholder=''" placeholder="Wprowadź aktualne hasło" required onblur="this.placeholder='Wprowadź aktualne hasło'" th:field="*{aPassword}">
                    <div class="error"></div>
                    <br>
                    <input type="submit" value="Usuń konto">
                    <div class="error" th:if="${errorDelete} != null">
                        <label th:text="${errorDelete}"></label>
                    </div>
                </form>
            </div>
        </div>

        <div style="clear: both;"></div>
    </div>
</body>
